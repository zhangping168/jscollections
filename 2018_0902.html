<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="UTF-8">
	<link rel="shortcut icon" type="image/x-icon" href="https://static.codepen.io/assets/favicon/favicon-8ea04875e70c4b0bb41da869e81236e54394d63638a1ef12fa558a4a835f1164.ico"
	/>
	<link rel="mask-icon" type="" href="https://static.codepen.io/assets/favicon/logo-pin-f2d2b6d2c61838f7e76325261b7195c27224080bc099486ddd6dccb469b8e8e6.svg"
	 color="#111" />
	 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<title>JS: 2018 0902: Number Facts</title>
	<style>
		#fact{display:none;}
	</style>
</head>

<body class="bg-dark">
	<div class="container">
		<div class="row">
			<div class="col-md-6 mx-auto">
				<div class="card bg-primary text-white mt-5 p-4">
					<h1>Number Facts</h1>
					<p>Enter a number and get a random fact</p>
					<input type="number" class="form-control form-control-lg" id="numberInput" placeholder="Enter any number ...">
					<div class="card-body" id="fact">
						<h4 class="card-title">Number Fact</h4>
						<p id="factText" class="card-text"></p>
					</div>
				</div>
			</div>
		</div>
	</div> 
	
	<script>
		let fact = document.querySelector('#fact');
		let factText = document.querySelector('#factText');
		
		let numberInput = document.querySelector('#numberInput');
		
		//numberInput.addEventListener('input', getFactAjax);
		numberInput.addEventListener('input', getFetchAjax);
		
		//function getFactAjax(){
			//let number = numberInput.value;
			
			//let xhr = new XMLHttpRequest();
			
			//xhr.open('GET', 'http://numbersapi.com/'+number);
			//xhr.onload = function(){
				
				//if(this.status == 200 && number !=''){
					//fact.style.display='block';
					//factText.innerText = this.responseText;
				//}else{
					//fact.style.display='none';
					//factText.innerText = '';
				//}
			//}
			//xhr.send();
		//}
		
		function getFetchAjax(){
			let number = numberInput.value;
			let url = 'http://numbersapi.com/'+number;
			
			fetch(url)
				.then(response=>response.text())
				.then(data=>{
					if(number != ''){fact.style.display='block';
					factText.innerText = data;}else{
						fact.style.display='none';
						factText.innerText = '';
					}
					})
				.catch(err=>{console.log(err);});
			
		}
		
	</script>
</body>

</html>
